<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Reading Journal • Melhor do Mês</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#1c1c2b">
<!-- Manifest PWA -->
<link rel="manifest" href="manifest.json">

<!-- iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Reading Journal">

<!-- Ícones para iOS -->
<link rel="apple-touch-icon" href="icons/icon-192.png">

<!-- Splash screens iOS -->
<link rel="apple-touch-startup-image" href="screenshots/splash-640x1136.png" media="(device-width: 320px) and (device-height: 568px)">
<link rel="apple-touch-startup-image" href="screenshots/splash-750x1334.png" media="(device-width: 375px) and (device-height: 667px)">
<link rel="apple-touch-startup-image" href="screenshots/splash-1242x2208.png" media="(device-width: 414px) and (device-height: 736px)">
<link rel="apple-touch-startup-image" href="screenshots/splash-1536x2048.png" media="(device-width: 768px) and (device-height: 1024px)">
<link rel="apple-touch-startup-image" href="screenshots/splash-1668x2224.png" media="(device-width: 834px) and (device-height: 1112px)">
<link rel="apple-touch-startup-image" href="screenshots/splash-1668x2388.png" media="(device-width: 834px) and (device-height: 1194px)">
<link rel="apple-touch-startup-image" href="screenshots/splash-2048x2732.png" media="(device-width: 1024px) and (device-height: 1366px)">

<style>
* { box-sizing: border-box; margin:0; padding:0; }

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  color: #fff;
  background:
    linear-gradient(rgba(32,32,117,0.75), rgba(135,135,199,0.75)),
    url("https://img.myloview.com.br/fotomurais/esboce-o-teste-padrao-ou-o-fundo-sem-emenda-dos-livros-do-vintage-esboco-livro-sem-emenda-de-educacao-para-escola-literatura-e-apple-ilustracao-700-149614705.jpg")
    no-repeat center / cover;
  min-height: 100vh;
}

/* NAVBAR */
.navbar {
  position: fixed;
  top: 0; left:0; right:0;
  height: 64px;
  background: rgba(15,15,20,0.92);
  backdrop-filter: blur(10px);
  display: flex;
  justify-content: space-around;
  align-items: center;
  z-index: 1000;
  box-shadow: 0 4px 12px rgba(0,0,0,.4);
}

.nav-link {
  color: #aaa;
  text-decoration: none;
  padding: 8px 14px;
  border-radius: 8px;
  position: relative;
  transition: all .25s ease;
}

.nav-link:hover { color:#fff; background: rgba(255,255,255,.08); }

.nav-link.active {
  color: #fff;
  font-weight: 600;
  background: rgba(255,255,255,.12);
}
.nav-link.active::after {
  content:"";
  position:absolute;
  bottom:-6px; left:50%;
  width:18px; height:3px;
  background:#7c7cff;
  border-radius:3px;
  transform:translateX(-50%);
}

/* CONTAINER */
.container {
  padding-top: 90px;
  max-width: 960px;
  margin:auto;
  padding-inline: 16px;
}

h1 { text-align:center; margin-bottom:20px; }

/* GRID */
.month-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 16px;
}

.month-card {
  background: rgba(0,0,0,0.3);
  border-radius: 12px;
  padding: 8px;
  text-align: center;
  cursor: pointer;
  transition: transform .2s, box-shadow .2s;
  position: relative;
}

.month-card:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0,0,0,.5);
}

.month-card img {
  width: 100%;
  border-radius: 8px;
  margin-top: 6px;
  object-fit: cover;
}

.month-placeholder {
  font-size: .85rem;
  margin-top: 10px;
  color: #ddd;
}

/* RESET BUTTON */
.reset-btn {
  display: block;
  margin: 20px auto;
  padding: 10px 20px;
  font-size: 1rem;
  font-weight: bold;
  background: #7c7cff;
  color: #fff;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(0,0,0,.3);
  transition: transform .1s;
}

.reset-btn:active {
  transform: scale(.97);
}

@media (max-width:600px){
  .navbar { overflow-x:auto; white-space:nowrap; justify-content:flex-start; }
  .nav-link { font-size:.85rem; padding:6px 10px; flex-shrink:0; }
}

.alphabet-grid {
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 20px;
}

</style>
</head>

<body>

<nav class="navbar">
  <a href="livros.html" class="nav-link">Livros</a>
  <a href="challenge.html" class="nav-link">Challenge</a>
  <a href="calendario.html" class="nav-link">Calendário</a>
  <a href="bingo.html" class="nav-link">Bingo</a>
  <a href="cores.html" class="nav-link">Cores</a>
  <a href="favoritos.html" class="nav-link active">Favoritos</a>
  <a href="a-z.html" class="nav-link">A-Z</a>
</nav>

<div class="container">
  <h1>Melhor Livro do Mês</h1>
  <div class="month-grid" id="monthGrid"></div>
</div>

<script>
const monthGrid = document.getElementById("monthGrid");
const resetBtn = document.getElementById("resetBtn");

const months = [
  "Janeiro","Fevereiro","Março","Abril","Maio","Junho",
  "Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"
];

// Carrega estado do localStorage
let estadoMeses = JSON.parse(localStorage.getItem("mesesEstado") || "{}");

function salvarEstado() {
  localStorage.setItem("mesesEstado", JSON.stringify(estadoMeses));
}

function criarCards() {
  monthGrid.innerHTML = "";

  months.forEach(month => {
    const card = document.createElement("div");
    card.className = "month-card";

    const titulo = document.createElement("h3");
    titulo.textContent = month;
    card.appendChild(titulo);

    const placeholder = document.createElement("div");
    placeholder.className = "month-placeholder";
    placeholder.textContent = "Nenhum livro escolhido";
    card.appendChild(placeholder);

    if (estadoMeses[month]) {
      const img = document.createElement("img");
      img.src = estadoMeses[month];
      card.appendChild(img);
      placeholder.style.display = "none";
    }

    let clickTimer = null;

    // Clique simples para adicionar foto
    card.addEventListener("click", () => {
      if (clickTimer) return;
      clickTimer = setTimeout(() => {
        clickTimer = null;
        const input = document.createElement("input");
        input.type = "file";
        input.accept = "image/*";
        input.onchange = () => {
          const file = input.files[0];
          if (!file) return;
          const reader = new FileReader();
          reader.onload = () => {
            estadoMeses[month] = reader.result;
            salvarEstado();
            criarCards();
          };
          reader.readAsDataURL(file);
        };
        input.click();
      }, 200);
    });

    // Duplo clique para apagar foto
    card.addEventListener("dblclick", e => {
      e.stopPropagation();
      if (clickTimer) {
        clearTimeout(clickTimer);
        clickTimer = null;
      }
      if (estadoMeses[month]) {
        delete estadoMeses[month];
        salvarEstado();
        criarCards();
      }
    });

    monthGrid.appendChild(card);
  });
}

criarCards();
</script>

</body>
</html>
